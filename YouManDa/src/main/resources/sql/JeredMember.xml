<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://www.mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="JeredMember">

	<!-- //////////////////////////////// Mypage Mapper  /////////////////////////////// -->
	<!-- 자신의 개인정보를 조회 // resultType => 결과, parameterType => 입력-->
	<select id="selectMyinfo" resultType="map" parameterType="map">
		SELECT 
		 id, lang, email, school, address, phonenum, passnum, sex, name, birthday, nick
		 FROM `MEMBER`
		 WHERE id = #{id}
	</select>
	
	
	<!-- 회원정보 수정 -->
 	<update id="updateMyinfo" parameterType="map">
		UPDATE `MEMBER` SET
			email=#{email}, school=#{school}, address=#{address}, phonenum=#{phonenum}, name=#{name}, nick=#{nick}
			WHERE id = #{id}
	</update>
	
	
	<!-- 회원 탈퇴 -->
	<delete id="deleteMyAccount" parameterType="map">
		DELETE FROM `MEMBER`
		 WHERE id = #{id}		
	</delete>
	
	<!-- ////////////////////////////// freeboard Mapper ///////////////////////////////// -->
	
	<select id="selectFreeBoardList" resultType="map" parameterType="map">
		SELECT
		 header, title, id, bdate ,hit, recomend
		 FROM `freeboard`
	</select>
	
	<insert id="insertFreeBoard" parameterType="map">
		INSERT INTO `freeboard`
		 ( header,title, content, bdate,  hit, recomend, id, lang, lnum)
		 VALUES
		 ( #{header},#{title}, #{content}, NOW(),  0, 0, #{id}, #{lang}, #{lnum})
	</insert>
	<!-- id, lang, lnum -> hidden -->

</mapper>